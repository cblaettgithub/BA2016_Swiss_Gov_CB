<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #tooltip {
            color: #454545;
            opacity: .9;
            background: #eee;
            padding: 5px;
            border: none;
            border-radius: 5px;
            position: absolute;
            z-index: 10;
            visibility: hidden;
            white-space: nowrap;
            pointer-events: none;
        }

        #circle circle {
            fill: none;
            pointer-events: all;
        }
        .group path {
            fill-opacity: .5;
        }
        path.chord {
            stroke: #000;
            stroke-width: .25px;
            fill-opacity: 0.5 !important;
        }
        #circle:hover path.fade {
            display: none;
        }

    </style>
</head>
<body>
<table border="1">
    <tr>
        <td>Choice Dept</td>
        <td id="output_suppliers">Choice Suppliers</td>
        <td id="output_categorys">Choice Categorys</td>
        <td >Choice Years</td>
        <td id="execute">Execute</td>
    </tr>
    <tr >
        <td>
            <input type="checkbox" class="dept" value="BK">BK<br>
            <input type="checkbox" class="dept" value="EDA">EDA<br>
            <input type="checkbox" class="dept" value="EDI">EDI<br>
            <input type="checkbox" class="dept" value="EFD">EFD<br>
            <input type="checkbox" class="dept" value="EJPD">EJPD<br>
            <input type="checkbox" class="dept" value="UVEK">UVEK<br>
            <input type="checkbox" class="dept" value="VBS">VBS<br>
            <input type="checkbox" class="dept" value="WBF">WBF
        </td>
        <td>
           <input type="checkbox" class="supplier" value="481426823">Schweiz. Depeschenagentur AG<br>
           <input type="checkbox" class="supplier" value="484457734">Trivadis AG<br>
           <input type="checkbox" class="supplier" value="480822068">Fabasoft CH Software AG<br>
           <input type="checkbox" class="supplier" value="485486377">Ecoplan AG<br>
           <input type="checkbox" class="supplier" value="480683648">Schweizerische Bundesbahnen SBB<br>
           <input type="checkbox" class="supplier" value="487360646">FS Communications GmbH Satellitenkommunikation<br>
           <input type="checkbox" class="supplier" value="480907146">Victorinox AG<br>
           <input type="checkbox" class="supplier" value="480580922">SRG SSR idÃ©e suisse Media Services
        </td>
        <td>
            <input type="checkbox" class="category" value="18.4">Informationsarbeit<br>
            <input type="checkbox" class="category" value="18.2">Informatik-DL exkl. Personalverleih im Bereich IKT<br>
            <input type="checkbox" class="category" value="15.1">Hardware<br>
            <input type="checkbox" class="category" value="14.1">Postdienste<br>
            <input type="checkbox" class="category" value="18.3">Beratungs-DL fÃ¼r Management und Organisation sowie Coaching<br>
            <input type="checkbox" class="category" value="15.2">Software inkl. Lizenzen<br>
            <input type="checkbox" class="category" value="5">Medizinische Produkte und Pharmabereich<br>
            <input type="checkbox" class="category" value="15.3">Telekommunikation
        </td>
        <td>
            <input type="checkbox" class="year" value="1">2011<br>
            <input type="checkbox" class="year" value="2">2012<br>
            <input type="checkbox" class="year" value="3">2013<br>
            <br><br><br><br><br>
        </td>
    </tr>
</table>
<script src="https://d3js.org/d3.v3.js"></script>
<script src="https://d3js.org/d3-queue.v3.min.js"></script>
<script src="https://d3js.org/d3-collection.v1.min.js"></script>
<script src="https://d3js.org/d3-request.v1.min.js"></script>
<script src="bundle.js"></script>
<div id="tooltip"></div>
<script>
    var dept = [];
    var supplier = [];
    var categories=[];
    var query = window.location.search.substring(1);
    var loc = window.location;
    starturlmodusMain(loc);

    function update_dept() {
        d3.selectAll(".dept").each(function (d) {
            cb = d3.select(this);
            if (cb.property("checked")) {
                dept.push(cb.property("value"));
            }
        });
    }

    function update_supplier() {
        d3.selectAll(".supplier").each(function (d) {
            cb = d3.select(this);
            if (cb.property("checked")) {
                supplier.push(cb.property("value"));
            }
        });
    }
    function update_category() {
        d3.selectAll(".category").each(function (d) {
            cb = d3.select(this);
            if (cb.property("checked")) {
                categories.push(cb.property("value"));
            }
        });
    }

    d3.select('#execute').on("click", function() {
        d3.select('#execute').style("color", "red");
        update_dept();
        update_supplier();
        update_category();
        d3.select("#output_suppliers").text(supplier[0]+supplier[1]);
        d3.select("#output_categorys").text(categories[0]);
        window.open(startcreatinglinkMain(dept,supplier, categories, 2014),"_self");
    });
</script>
</body>
</html>